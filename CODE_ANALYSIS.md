# Codebase Analysis Report: Patirke Mendiguren Portfolio

## 1. Project Overview

This report provides a comprehensive analysis of the portfolio website for Patirke Mendiguren, a Spanish-Basque actress and singer. The goal of this document is to serve as a complete guide for any developer or LLM agent tasked with maintaining or extending the project.

-   **Purpose**: A personal portfolio to showcase professional work, including a CV, photo gallery, videos, and contact information.
-   **Live URL**: [https://patirke.com/](https://patirke.com/)
-   **Tech Stack**:
-   **Framework**: [Nuxt.js](https://nuxt.com/) v4 (a [Vue.js](https://vuejs.org/) framework)
    -   **Language**: [TypeScript](https://www.typescriptlang.org/)
    -   **Styling**: [Sass](https://sass-lang.com/) (SCSS)
    -   **Package Manager**: npm
    -   **Linting**: ESLint
    -   **Type Checking**: `vue-tsc`
-   **Architecture**: The project is a **statically generated site (SSG)**. The `npm run generate` command builds all pages into static HTML, CSS, and JavaScript files, which are then served from a hosting provider. This architecture is excellent for performance, SEO, and security.
-   **Hosting & Deployment**: The site is hosted on **Cloudflare Pages** and deployed automatically via **GitHub Actions**.

---

## 2. File & Directory Structure

The repository is well-organized, following standard Nuxt 4 conventions. The main source code for the application resides within the `app/` directory.

| Path                      | Purpose                                                                                                                                                             |
| ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `app/`                    | The application's source directory (`srcDir`). Contains all the Vue components, pages, layouts, assets, and types.                                                   |
| `app/assets/`             | Stores unprocessed static assets like source Sass files, and web fonts (`.woff2`). These are processed and bundled by Nuxt during the build.                          |
| `app/components/`         | Contains reusable Vue components that are used across multiple pages (e.g., navigation, footer, video gallery wrapper).                                              |
| `app/layouts/`            | Defines the main layout templates for the application. `default.vue` is the primary layout.                                                                          |
| `app/pages/`              | Contains the Vue components that Nuxt automatically maps to application routes (e.g., `app/pages/galeria.vue` becomes `https://patirke.com/galeria`).                  |
| `app/types/`              | Contains custom TypeScript declaration files (e.g., for `lightgallery`).                                                                                            |
| `.github/workflows/`      | **(Root)** Contains CI/CD workflow configurations for GitHub Actions.                                                                                               |
| `public/`                 | **(Root)** Stores static assets that are copied directly to the build output's root without processing. Ideal for images, documents, and favicons.                     |
| `nuxt.config.ts`          | **(Root)** The main configuration file for Nuxt.js. Defines modules, build settings, etc.                                                                           |
| `package.json`            | **(Root)** Lists project dependencies and scripts.                                                                                                                  |
| `tsconfig.json`           | **(Root)** Configures TypeScript to use project references, pointing to the configs generated by Nuxt in the `.nuxt` directory.                                      |

---

## 3. Pages & Routing

Nuxt uses a file-based routing system. Each `.vue` file in the `app/pages/` directory corresponds to a specific URL route.

-   `app/pages/index.vue` -> `/`
-   `app/pages/curriculum.vue` -> `/curriculum/`
-   `app/pages/reel.vue` -> `/reel/`
-   `app/pages/escenas.vue` -> `/escenas/`
-   `app/pages/musica.vue` -> `/musica/`
-   `app/pages/galeria.vue` -> `/galeria/`
-   `app/pages/contacto.vue` -> `/contacto/`

---

## 4. Core Components Analysis

The `app/components/` directory contains the modular building blocks of the site.

-   **`AppNav.vue`**: The main navigation menu.
-   **`AppFooter.vue`**: The site footer.
-   **`SocialNav.vue`**: A component with icon links to social media profiles.
-   **`PictureSource.vue`**: An intelligent image optimization component using the `<picture>` element.
-   **`LGVimeoWrap.vue`**: A complex component that fetches Vimeo metadata and renders a video gallery using `lightgallery`.

---

## 5. Styling Strategy

The project employs a multi-layered styling strategy:

1.  **Global Styles**: Defined in `app/layouts/default.vue`.
2.  **Custom Fonts**: Defined in `app/assets/css/fonts.css`.
3.  **Scoped Styles**: Most components use `<style scoped lang="scss">`.
4.  **Third-Party & Icon Fonts**: Imported directly into the Vue components that use them.

---

## 6. Asset Management

The project makes a clear distinction between two types of assets:

-   **`app/assets/` directory**: For files that are part of the source code and are processed by the build system.
-   **`public/` directory (in root)**: For files that need a stable URL and are copied as-is to the build output.
    -   `public/CV/`: Contains the downloadable PDF resume.
    -   `public/gallery/`: Contains full-resolution gallery images.
    -   `public/gallery/th/`: Contains the corresponding thumbnail images.
    -   `public/portada/`: Contains the images used in the homepage slideshow.
    -   `public/icons/`: Contains miscellaneous icons.
    -   **Convention**: For every image, both a `.jpg` and a `.webp` version are provided.

---

## 7. Key Dependencies

-   **`lightgallery`**: A flexible library for creating image and video galleries.
-   **`sharp`**: A high-performance image processing library used by Nuxt under the hood.
-   **`glob`**: A library for matching file paths using patterns (available but unused).

---

## 8. Build & Deployment (CI/CD)

The project has a modern, fully automated CI/CD pipeline using **GitHub Actions**.

1.  **Pull Request Checks (`pr-check.yml`)**:
    -   Runs `npm run lint` to check for code style issues.
    -   Runs `npm run typecheck` (using `vue-tsc -b`) to check for TypeScript errors.
    -   Runs `npm run generate` to ensure the project builds successfully.

2.  **Deployment (`deploy-cloudflare-pages.yml`)**:
    -   Deploys preview branches for PRs and the production site for merges to `main`.

---

## 9. Potential Improvements

The codebase is of high quality, but the following improvements could enhance maintainability:

-   **Automate Gallery Updates**: The list of image names in `app/pages/galeria.vue` is hardcoded. This could be automated.
-   **Decouple CV Content**: The professional experience listed on the `app/pages/curriculum.vue` page is hardcoded in HTML. This could be moved to a structured file.
-   **Centralize Configuration**: Hardcoded values like social media links (`app/components/SocialNav.vue`) and contact details (`app/pages/contacto.vue`) could be moved into the `nuxt.config.ts`.

---

## 10. Common Tasks Guide

Here are step-by-step instructions for common maintenance tasks.

### How to Update the CV

1.  **Add the new PDF**: Place the new resume file inside the `public/CV/` directory.
2.  **Update the link**: Open `app/pages/curriculum.vue`. Find the `<a>` tag inside the `div` with the class `cv-download` and update the `href` attribute.
3.  **Update the text**: In the same file, manually edit the HTML lists (`<ul>`) to reflect the changes.

### How to Add a Photo to the Gallery

1.  **Prepare images**: Create a full-size version and a thumbnail version of the new photo (`.jpg` and `.webp`).
2.  **Add full-size images**: Place the full-size images into the `public/gallery/` directory.
3.  **Add thumbnail images**: Place the thumbnail images into the `public/gallery/th/` directory.
4.  **Update the image list**: Open `app/pages/galeria.vue`. Find the `const images = [...]` array and add the base name of your new photo.

### How to Add a Video (Reel, Escenas, MÃºsica)

1.  **Get the Vimeo ID**: Upload the video to Vimeo and copy the ID from its URL.
2.  **Edit the correct page**: Open the relevant page file in `app/pages/`.
3.  **Update the ID list**: Find the `<LGVimeoWrap :vimeo-ids="[...]" />` component and add the new Vimeo ID to the array.

### How to Update Social Media Links

1.  **Edit the SocialNav component**: Open `app/components/SocialNav.vue`.
2.  **Update the URL**: Find the link you want to change and update the `href` attribute.
3.  **Update the SEO data**: Open `app/layouts/default.vue`. Find the `application/ld+json` script and update the URL in the `sameAs` array.
